| App             | Responsibility                                          | Relationships / Notes                                                                                     | Enterprise Best Practice                                                      |
| --------------- | ------------------------------------------------------- | --------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------- |
| `students`      | Manage students, parents, enrollment, PII               | - Student → Parent(s) via `student_parents`<br>- Student → Bus (assigned_bus_id)<br>- Related to `events` | Isolate PII, strong encryption, row-level security for parental access        |
| `buses`         | Fleet, routes, schedules, capacity                      | - Bus → Kiosk (1:1)<br>- Bus → Students (1:many)<br>- Related to `events`                                 | Modular fleet management, scalable route planning, analytics-friendly         |
| `kiosks`        | Device management, heartbeat, firmware, storage/battery | - Kiosk → Bus (1:1)<br>- Kiosk → Boarding Events (1:many)                                                 | High-throughput isolation, device monitoring, API keys & auth separation      |
| `events`        | Boarding events, attendance (append-only)               | - Event → Student<br>- Event → Kiosk<br>- Event → Bus via kiosk                                           | Append-only design, partitioning for performance, idempotency, audit logging  |
| `notifications` | Async alerts to parents/admins                          | - Notifications → Events<br>- Notifications → Users (parents/admins)                                      | Queue-based async processing (Celery/Kafka), retry & failure handling         |
| `users`         | Auth, roles, API keys, RBAC                             | - Users → Roles<br>- API keys → Kiosks                                                                    | Separate auth layer, secure password storage, JWTs for parent/admin           |
| `analytics`     | Read-only reports, dashboards, materialized views       | - Aggregates data from students, events, buses                                                            | Read-only isolation, optimized for queries, use materialized views or OLAP DB |
